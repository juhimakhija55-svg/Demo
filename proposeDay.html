<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  min-height:100vh;
  background:#fff6f8;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Playfair Display', serif;
  color:#5a2a3c;
  overflow:hidden;
}

/* Wrapper */
.wrapper{
  width:90%;
  max-width:420px;
  text-align:center;
}

/* Envelope */
.envelope{
  position:relative;
  width:300px;
  height:200px;
  margin:0 auto;
  cursor:pointer;
  animation:pulse 2.5s ease-in-out infinite;
}

.envelope.open{
  animation:none;
}

/* Envelope body */
.envelope-body{
  position:absolute;
  width:100%;
  height:100%;
  background:#f3b6c6;
  border-radius:12px;
  z-index:1;
}

/* Envelope flap */
.envelope-flap{
  position:absolute;
  top:0;
  left:0;
  width:0;
  height:0;
  border-left:150px solid transparent;
  border-right:150px solid transparent;
  border-bottom:100px solid #e89aaa;
  transform-origin:top;
  transition:transform 0.9s ease;
  z-index:2;
}

/* Letter */
.letter{
  position:absolute;
  top:30px;
  left:18px;
  right:18px;
  background:#ffffff;
  padding:24px 22px;
  border-radius:10px;
  opacity:0;
  transform:translateY(20px);
  transition:all 1s ease;
  z-index:3;
}

/* Open states */
.envelope.open .envelope-flap{
  transform:rotateX(180deg);
}

.envelope.show-letter .letter{
  opacity:1;
  transform:translateY(-30px);
}

/* Text */
.title{
  font-size:20px;
  margin-bottom:18px;
}

.choose{
  font-size:19px;
  font-weight:600;
  margin:14px 0;
}

p{
  font-size:16.5px;
  line-height:1.65;
  margin:14px 0;
}

.signature{
  margin-top:22px;
  font-size:15px;
  font-style:italic;
  opacity:0.9;
}

/* Hint */
.hint{
  margin-top:20px;
  font-size:14px;
  opacity:0.8;
  transition:opacity .4s ease;
}

/* Pulse */
@keyframes pulse{
  0%{transform:scale(1);}
  50%{transform:scale(1.025);}
  100%{transform:scale(1);}
}

/* Rose petals */
.petal{
  position:fixed;
  top:-10%;
  font-size:20px;
  animation:fall linear;
  pointer-events:none;
  z-index:9999;
}

@keyframes fall{
  0%{transform:translateX(0) rotate(0deg);opacity:1;}
  100%{transform:translateX(120px) rotate(360deg);top:110%;opacity:0;}
}
</style>
</head>

<body>

<div class="wrapper">
  <div class="envelope" id="envelope">
    <div class="envelope-flap"></div>
    <div class="envelope-body"></div>

    <div class="letter">
      <div class="title">For you.</div>

      <div class="choose">I choose you.</div>

      <p>
        Not because itâ€™s special days,<br>
        but because of the ordinary ones.
      </p>

      <p>
        The quiet days.<br>
        The busy days.<br>
        And all the days in between.
      </p>

      <div class="signature">
        This is us.
      </div>
    </div>
  </div>

  <div class="hint" id="hint">Tap the envelope ðŸ’Œ</div>
</div>

<!-- ðŸŽµ Local music file -->
<audio id="music" preload="auto">
  <source src="song.mp3" type="audio/mpeg">
</audio>

<script>
const envelope = document.getElementById("envelope");
const hint = document.getElementById("hint");
const music = document.getElementById("music");

function showerPetals(){
  const petals = ["ðŸŒ¹","ðŸŒ¸","ðŸ’—"];
  for(let i=0;i<22;i++){
    const p = document.createElement("div");
    p.className = "petal";
    p.innerText = petals[Math.floor(Math.random()*petals.length)];
    p.style.left = Math.random()*100 + "vw";
    p.style.animationDuration = 4 + Math.random()*3 + "s";
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),7000);
  }
}

envelope.addEventListener("click", () => {
  envelope.classList.add("open");
  hint.style.opacity = "0";

  setTimeout(() => {
    envelope.classList.add("show-letter");

    // ðŸŽµ Play music ONLY after letter appears
    music.volume = 0.35;
    music.play().catch(() => {});

    showerPetals();
  }, 450);
});
</script>

</body>
</html>
