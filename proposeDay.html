<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Oppaa</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  min-height:100vh;
  background:#fff6f8;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Playfair Display', serif;
  color:#5a2a3c;
  overflow:hidden;
}

.wrapper{
  width:90%;
  max-width:420px;
  text-align:center;
}

/* ===== ENVELOPE ===== */
.env-shell{
  position:relative;
  width:320px;
  height:200px;
  margin:0 auto;
}

/* Back */
.env-back{
  position:absolute;
  inset:0;
  background:#f1b6c6;
  border-radius:14px;
  z-index:1;
}

/* Pocket */
.env-pocket{
  position:absolute;
  bottom:0;
  left:0;
  width:100%;
  height:120px;
  background:#eca1b5;
  border-radius:0 0 14px 14px;
  z-index:3;
}

.env-pocket::before,
.env-pocket::after{
  content:"";
  position:absolute;
  top:0;
  width:50%;
  height:100%;
  background:#e594aa;
}

.env-pocket::before{
  left:0;
  transform:skewX(18deg);
}

.env-pocket::after{
  right:0;
  transform:skewX(-18deg);
}

/* Flap */
.env-flap{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100px;
  background:#e58fa5;
  clip-path:polygon(0 0,100% 0,50% 100%);
  transform-origin:top;
  transition:transform .9s ease;
  z-index:4;
}

/* ===== LETTER ===== */
.letter{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%, 20px);
  width:260px;
  background:#fff;
  padding:26px 22px;
  border-radius:12px;
  opacity:0;
  transition:all 1s ease;
  z-index:10; /* ABOVE ENVELOPE */
  box-shadow:0 18px 50px rgba(0,0,0,.18);
}

/* OPEN STATES */
.env-shell.open .env-flap{
  transform:rotateX(180deg);
}

.env-shell.show-letter .letter{
  opacity:1;
  transform:translate(-50%, -200px); /* sits above envelope */
}

/* Text */
.title{font-size:20px;margin-bottom:14px;}
.choose{font-size:19px;font-weight:600;margin:12px 0;}
p{font-size:16px;line-height:1.6;margin:12px 0;}
.signature{margin-top:18px;font-size:15px;font-style:italic;}

/* Hint */
.hint{
  margin-top:22px;
  font-size:14px;
  opacity:.8;
  transition:opacity .3s ease;
}

/* Petals */
.petal{
  position:fixed;
  top:-10%;
  font-size:20px;
  animation:fall linear;
  pointer-events:none;
  z-index:9999;
}
@keyframes fall{
  0%{transform:translateX(0) rotate(0deg);opacity:1;}
  100%{transform:translateX(120px) rotate(360deg);top:110%;opacity:0;}
}
</style>
</head>

<body>

<div class="wrapper">
  <div class="env-shell" id="env">
    <div class="env-back"></div>

    <div class="letter">
      <div class="title">For you.</div>
      <div class="choose">I choose you.</div>

      <p>
        Not because itâ€™s special days,<br>
        but because of the ordinary ones.
      </p>

      <p>
        The quiet days.<br>
        The busy days.<br>
        And all the days in between.
      </p>

      <div class="signature">This is us.</div>
    </div>

    <div class="env-pocket"></div>
    <div class="env-flap"></div>
  </div>

  <div class="hint" id="hint">Tap the envelope ðŸ’Œ</div>
</div>

<audio id="music">
  <source src="song.mp3" type="audio/mpeg">
</audio>

<script>
const env = document.getElementById("env");
const hint = document.getElementById("hint");
const music = document.getElementById("music");

function petals(){
  const icons=["ðŸŒ¹","ðŸŒ¸","ðŸ’—"];
  for(let i=0;i<16;i++){
    const p=document.createElement("div");
    p.className="petal";
    p.innerText=icons[Math.floor(Math.random()*icons.length)];
    p.style.left=Math.random()*100+"vw";
    p.style.animationDuration=4+Math.random()*3+"s";
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),7000);
  }
}

env.addEventListener("click",()=>{
  env.classList.add("open");
  hint.style.opacity=0;

  setTimeout(()=>{
    env.classList.add("show-letter");
    music.volume=.35;
    music.play().catch(()=>{});
    petals();
  },400);
});
</script>

</body>
</html>
